{% extends 'base.html' %}

{% block title %}Create Bidding Auction{% endblock %}

{% block content %}
<div class="container">
  <h2>Create Product</h2>

  {# Use Flask-Loginâ€™s current_user instead of session #}
  {% if current_user.is_authenticated %}
    <form method="post" enctype="multipart/form-data">
      <div class="form-group">
        <label>Description</label>
        <textarea name="description" class="form-control" required></textarea>
      </div>
      <div class="form-group">
        <label>Starting Price</label>
        <input
          type="number"
          step="0.01"
          name="price"
          class="form-control"
          required
        >
      </div>
      <div class="form-group">
        <label>Minimum Bidding Increment</label>
        <input
          type="number"
          step="0.01"
          name="min_bid_inc"
          class="form-control"
          required
        >
      </div>
      <div class="form-check">
        <input
          type="checkbox"
          name="is_open_bid"
          class="form-check-input"
        >
        <label class="form-check-label">
          Open to Bids
        </label>
      </div>

      <button type="submit" class="btn btn-primary mt-3">
        Create Product
      </button>
    </form>

  {% else %}
    <div class="alert alert-warning mt-4">
      You must be logged in to create a product.
    </div>
    <a
      class="btn btn-outline-primary"
      href="{{ url_for('auth_login') }}"
    >
      Go to Login
    </a>
  {% endif %}
</div>
{% endblock %}
